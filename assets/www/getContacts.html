<html>
    <body>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/smsplugin.js"></script>
        <!-- <script type="text/javascript" src="js/jquery.mobile-1.3.2.js"></script>-->
        <script src="js/jquery-1.10.2.min.js"></script>
        <script src="js/jquery.mobile-1.3.2.min.js"></script>
        <div id="content"></div>
        <script type="text/javascript" charset="utf-8">

        document.addEventListener("deviceready", onDeviceReady, false);

        function onDeviceReady() 
        {
            var query = require('url').parse(req.url,true).query;
            var q=query.q;
            
            var options = new ContactFindOptions();
            options.filter = q;
            var fields = ["displayName", "name"];
            navigator.contacts.find(fields, onContactSuccess, onContactError, options); 
        }
        function onContactSuccess(contacts)
        {
            for (var i = 0; i < contacts.length; i++) 
            {
                //alert("Display Name = " + contacts[i].displayName);
                $("#content").val(contacts[i].displayName);
            }
        }
        function onContactError(data)
        {
            document.writeln('Error!');
        }
        </script>
    </body>
</html>